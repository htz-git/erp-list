# 数据库SQL脚本说明

## 文件说明

### 00_执行所有SQL脚本.sql
- 一键执行所有SQL脚本的主脚本
- 按顺序执行所有数据库和表结构创建

### 01_创建数据库.sql
- 创建所有微服务所需的数据库
- 包括：erp_user, erp_order, erp_pay, erp_promotion, erp_purchase, erp_refund, erp_replenishment

### 02_用户服务表结构.sql
- 用户服务数据库表结构
- 包括：用户表、角色表、权限表、关联表

### 03_订单服务表结构.sql
- 订单服务数据库表结构
- 包括：订单表、订单明细表、订单状态记录表

### 04_支付服务表结构.sql
- 支付服务数据库表结构
- 包括：支付记录表、支付方式表、支付流水表

### 05_促销服务表结构.sql
- 促销服务数据库表结构
- 包括：促销活动表、优惠券表、用户优惠券表、促销规则表

### 06_采购服务表结构.sql
- 采购服务数据库表结构
- 包括：供应商表、采购单表、采购明细表、采购状态记录表

### 07_退款服务表结构.sql
- 退款服务数据库表结构
- 包括：退款申请表、退款记录表、退款原因表

### 08_补货服务表结构.sql
- 补货服务数据库表结构
- 包括：补货单表、补货明细表、库存预警表、补货计划表

## 执行方式

### 方式一：使用MySQL客户端执行

```bash
# 1. 登录MySQL
mysql -u root -p

# 2. 执行主脚本
source E:/erp/sql/00_执行所有SQL脚本.sql

# 或者逐个执行
source E:/erp/sql/01_创建数据库.sql
source E:/erp/sql/02_用户服务表结构.sql
# ... 其他脚本
```

### 方式二：使用命令行执行

```bash
# Windows
mysql -u root -p < sql\00_执行所有SQL脚本.sql

# Linux/Mac
mysql -u root -p < sql/00_执行所有SQL脚本.sql
```

### 方式三：使用Navicat等工具

1. 打开Navicat等数据库管理工具
2. 连接到MySQL数据库
3. 打开SQL脚本文件
4. 执行脚本

## 注意事项

1. **执行顺序**：必须按照文件编号顺序执行
2. **数据库权限**：确保MySQL用户有创建数据库和表的权限
3. **字符集**：所有数据库和表都使用 utf8mb4 字符集
4. **初始数据**：部分脚本包含初始数据，可根据需要修改
5. **密码加密**：用户表中的密码是加密后的，默认密码需要根据实际加密算法调整

## 数据库设计说明

详细设计思路请参考项目根目录的 `数据库设计文档.md` 文件。

